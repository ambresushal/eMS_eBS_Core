<style>
    .custom-combobox {
        position: relative;
        display: inline-block;
    }

    .custom-combobox-toggle {
        position: absolute;
        top: 0;
        bottom: 0;
        margin-left: -1px;
        padding: 0;
    }

    .custom-combobox-input {
        margin: 0;
        padding: 5px 10px;
    }

    .bucontrol textarea, select, input[type=text] {
        width: 100%;
    }

    .trigger {
        margin-left: 10px !important;
    }

    .fullscreen-grid {
        position: fixed !important;
        width: 100% !important;
        height: 100% !important;
        z-index: 9999;
        left: 0px;
        top: 0px;
    }
    /*.ag-layout-normal .ag-body-viewport{
        height: 100% !important;
    }*/
    /*.ag-ltr .ag-pinned-left-cols-viewport {
        height: 315px !important;
    }
    .ag-theme-fresh .ag-body {
        height: 337px !important;
    }*/
    .ag-layout-normal .ag-body-viewport {
        height: 337px !important;
    }

    .ag-layout-normal .ag-body-viewport-wrapper {
        margin-left: 0px !important;
    }

    .fullscreen-grid .ag-layout-normal .ag-body-viewport {
        height: 413px !important;
    }
    
    /*.fullscreen-grid .ag-ltr .ag-pinned-left-cols-viewport {
        height: 315px !important;
    }*/
    
    .fullscreen-grid {
        left: 0px !important;
    }

        .fullscreen-grid .ag-body-viewport {
            height: 465px !important;
        }

    .ag-virtual-list-viewport {
        overflow-x: scroll;
    }

    .ag-virtual-list-container {
        overflow: unset;
    }

    .ag-set-filter-item {
        overflow: unset;
    }

    .ag-virtual-list-viewport {
        overflow-x: scroll;
    }

    .ag-virtual-list-container {
        overflow: unset;
    }

    .ag-set-filter-item {
        overflow: unset;
    }

    .ag-body-viewport {
        height: 350px !important;
    }

</style>

@model tmg.equinox.applicationservices.viewmodels.FolderVersion.FolderVersionViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/FormRenderLayout.cshtml";
}
@Html.Partial("Templates")
<div class="container-fluid">
    <div class="lead-wrap clearfix">
        <div class="pull-left">
            <h1 class="title">Master List</h1>
        </div>
    </div>

    <div class="panel-body">
        <div class="panel panel-default">
            <div class="panel-body ">
                <table class="responsive-table-conatiner" id="workflowContainerJQ">
                    <tr class="responsive-tr">
                        <td class="responsive-td responsive-td-width">
                            @if (@Model.AccountId != 0)
                            {
                                <h6 class="form-subtitle" id="formTitle_accountName"><b>Account:</b> @ViewBag.accountName</h6>
                            }
                            <h4 class="form-title" id="formTitle_folderName">
                                <b>@Model.FolderName</b>
                                <span class="form-subtitle new-subtitle" id="formTitle_effectiveDate">@Model.EffectiveDate.ToShortDateString(), Version No. @Model.FolderVersionNumber</span>
                            </h4>

                        </td>
                    </tr>
                </table>
                <div class='alert alert-info retroAlert' id="retroNoteML" style="display:none;">
                    <span class='glyphicon glyphicon-info-sign folder-version-alert'></span>
                    <strong>Note!</strong> Retro is In Progress. Please go to Version Management for Retro Details.
                </div>
                <div class="parent-container" id="foldertabs" style="min-height: 500px; position: relative;">
                    <div>
                        <div id="folderVersionAlert" class="alert alert-info" style="display: none;">
                            <span class="glyphicon glyphicon-info-sign folder-version-alert"></span>
                            <strong>Note!</strong> New version is loaded.
                        </div>
                        <div id="documentDisableAlert" class="alert alert-info" style="display: none;">
                            <span class="glyphicon glyphicon-info-sign folder-version-alert"></span>
                            <strong>Note!</strong> This product is disabled as the product is in Translation. To Edit the product form, please refresh the document after completion of translation..
                        </div>
                        <div id="documentInTransmissionAlert" class="alert alert-info" style="display: none;">
                            <span class="glyphicon glyphicon-info-sign folder-version-alert"></span>
                            <strong>Note!</strong> This product is disabled as the product is in Transmission. To Edit the product form, please refresh the document after completion of transmission..
                        </div>
                        <div id="masterListInTransmissionAlert" class="alert alert-info" style="display: none;">
                            <span class="glyphicon glyphicon-info-sign folder-version-alert"></span>
                            <strong>Note!</strong> Master List is disabled as it is in Transmission.
                        </div>
                        <div id="masterListInTranslationAlert" class="alert alert-info" style="display: none;">
                            <span class="glyphicon glyphicon-info-sign folder-version-alert"></span>
                            <strong>Note!</strong> Master List is disabled as it is in Translation.
                        </div>
                        <div id="folderLockAlert" class="alert alert-warning" style="display: none;">
                            <a href="#" class="close" data-dismiss="alert">&times;</a>
                            <span class="glyphicon glyphicon-info-sign folder-version-alert"></span>
                            <strong>Warning!</strong> Your Edit session has been overridden. You may re-open this Folder Version to complete changes as long as it is not locked by another user.
                        </div>
                    </div>
                    <div>
                        <div id="folderAutoSaveAlert" class=" alert alert-success notificationAlert notificationAlert-bottom " style="display: none;">
                            <h4><span class=" glyphicon auto-save-alert"></span>Document changes auto-saved.</h4>
                        </div>
                    </div>
                    <div>
                        @if (@ViewBag.IsStopScrollFloatingHeaders == "true")
                        {
                            <div id="scrollTop" class="scroll-to-top scroll-to-top:hover " title="Scroll to top" style="display: none;">
                                <a href="#"></a>
                            </div>
                        }
                    </div>
                    <div class="btn pull-right btn-padding">
                        <div class="dropdown pull-right details-custom-pagination">
                            <button class="btn btn-sm but-align disabled-button" disabled="disabled" title="New" id="btnCreateForm" type="button" aria-label="Left Align">
                                <i class="material-icons">&#xE146;</i>
                            </button>
                            <button class="btn btn-sm but-align" title="Save" id="btnSaveFormData" type="button" aria-label="Left Align">
                                <i class="material-icons">&#xE161;</i>
                            </button>

                            <button class="btn btn-sm but-align dropdown-toggle" title="Menu" id="btnMenuOptions" type="button" aria-label="Left Align" data-toggle="dropdown">
                                <i class="material-icons">&#xE5D4;</i>
                            </button>
                            <div id="dropDownMenu" class="dropdown-menu pull-right folderversion-dropdown-menu child-container">
                                <div class="folderversion-document-folder-menu">

                                    <div id="document" class="folderversion-document-folder-position">
                                        <p class="folderversion-menu-text-90deg">Document</p>
                                    </div>

                                    <div id="documentIcons" class="folderversion-menu-container">
                                        <div class="separator">
                                            <div id="btnReloadFormData" title="Refresh" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-document-reload"></span>*@
                                                    <span class="folderversion-buttons-text">Refresh</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnDeleteForm" title="Delete" class="button folderVersionButton ">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-document-delete"></span>*@
                                                    <span class="folderversion-buttons-text">Delete</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnValidate" title="Validate" class="button folderVersionButton ">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-document-validation"></span>*@
                                                    <span class="folderversion-buttons-text">Validate</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnJournalEntry" title="Journal Entry" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-journal-entry"></span>*@
                                                    <span class="folderversion-buttons-text">Journal Entry</span>
                                                </p>

                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnReplaceText" title="Replace Text" class="button folderVersionButton">
                                                <p>
                                                    <span class="folderversion-buttons-text">Find and Replace</span>
                                                </p>

                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnExportToPDf" title="Create PDF" class="button folderVersionButton ">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-document-pdf"></span>*@
                                                    <span class="folderversion-buttons-text">Create PDF</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnViewFaxBackReport" title="Create FaxBack" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-report"></span>*@
                                                    <span class="folderversion-buttons-text">Create FaxBack</span>
                                                </p>
                                            </div>
                                        </div>


                                        <div class="separator">
                                            <div id="btnViewBenefitMatrixReport" title="Create Benefit Matrix" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-report"></span>*@
                                                    <span class="folderversion-buttons-text">Create BenefitMatrix</span>
                                                </p>
                                            </div>
                                        </div>

                                        <div>
                                            <div id="btnCascadeML" class="button folderVersionButton">
                                                <p>
                                                    <span class="folderversion-buttons-text">Cascade Status</span>
                                                </p>
                                            </div>
                                        </div>
                                        <hr class="divider" />
                                    </div>

                                    <div style="clear: both;"></div>
                                </div>


                                <div class="folderversion-document-folder-menu">

                                    <div class="folderversion-document-folder-position">
                                        <p class="folderversion-menu-text-90deg">Folder</p>
                                    </div>


                                    <div id="folderIcons" class="folderversion-menu-container">
                                        <div class="separator">
                                            <div id="btnValidateAll" title="Validate" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-validate-folder"></span>*@
                                                    <span class="folderversion-buttons-text">Validate</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="btnBaselineML" title="Baseline" class="button folderVersionButton ">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-folder-Baseline"></span>*@
                                                    <span class="folderversion-buttons-text">Baseline</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="assignFolderMemberbutton" title="Assign Folder Member" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-status-update"></span>*@
                                                    <span class="folderversion-buttons-text">Assign Folder Member</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="separator">
                                            <div id="statusupdatebutton" title="Status Update" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-status-update"></span>*@
                                                    <span class="folderversion-buttons-text">Status Update</span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="separator">
                                            <div id="versionHistoryButtonML" title="Version Management" class="button folderVersionButton">
                                                <p>
                                                    @*<span class="folder-version-menu-icons folder-version-menu-icons-folder-version-mngt"></span>*@
                                                    <span class="folderversion-buttons-text">Version Management</span>
                                                </p>
                                            </div>
                                        </div>
                                        @*<div class="separator">
                                                <div id="generateProductShareReportButton" title="Generate Product Share" class="button folderVersionButton">
                                                    <p>
                                                        <span class="folderversion-buttons-text">Generate Product Share</span>
                                                    </p>
                                                </div>
                                            </div>*@
                                        <div class="separator">
                                            <div>
                                                <div id="btnProperties" title="Properties" class="button folderVersionButton">
                                                    <p>
                                                        @*<span class="folder-version-menu-icons folder-version-menu-icons-document-property"></span>*@
                                                        <span class="folderversion-buttons-text">Properties</span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div>

                                        </div>
                                    </div>
                                    <div style="clear: both;"></div>
                                </div>

                            </div>


                        </div>
                    </div>


                    <div>
                        <ul id="formTabs" class="white-bg"></ul>

                        <div id="sectionMenuContainer" class="sectionMenuFromContainer clearfix">
                            <div id="IsJQLoaded" style="visibility:hidden; display:none;">@ViewBag.IsJQ</div>
                            <div class="col-xs-4">
                                <div class="form-text">
                                    <label>View</label>
                                </div>
                                <div class="form-fields">
                                    <div id="masterListDocumentMenu" data-"@ViewBag.folderType">@ViewBag.folderType</div>
                                </div>
                            </div>
                            <div class="col-xs-4" style="display:none" id="masterListInstanceMenuContainer">
                                <div class="form-text">
                                    <label>Instances</label>
                                </div>
                                <div class="form-fields custom-combobox">
                                    <select id="masterListInstanceMenu" style="border-color:#000000;"></select>
                                </div>
                            </div>
                            <div class="col-xs-4">
                                <div class="form-text" style="padding-left:50px;">
                                    <label><strong>Section</strong></label>
                                </div>
                                <div id="sectionMenu" class="form-fields">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="bottom-menu" class="bottom-menu navbar-fixed-bottom" style="display: none;">

                    <div id="bottom-menu-tabs" style="margin: 1px;">
                        <div>
                            <ul id="bottom-menu-ul">
                                <li><a href="#tabs-1">Errors</a></li>
                                <li><a href="#tabs-2">Activity Log</a></li>
                                <li><a href="#tabs-3">Journal</a></li>
                                <li><a href="#tabs-4">Rule Execution Log</a></li>
                                <div style="float: right; display:inline-block;margin-right:10px">
                                    <div id="sectionMenuContainerBottom" style="display:inline-block">
                                        <div style="margin-left:10px;font-size:14px;margin-top:5px;padding-top:15px">
                                            <label><strong>Section</strong></label>
                                        </div>
                                        <div id="sectionMenuBottom"></div>
                                    </div>
                                    <div style="display:inline-block;padding-top: 10px;">
                                        <div style="margin-left:5px">
                                            <i title="Save" id="btnBottomSaveFormData" style="cursor: pointer;" class="material-icons">&#xE161;</i>
                                            <i class="bottom-menu-button glyphicon glyphicon-plus-sign"></i>
                                        </div>
                                    </div>
                                </div>
                            </ul>
                            <div style="clear: both">
                            </div>
                        </div>
                        <div id="tabs-1">
                            <div class="bottom-tab-content">
                                <div>
                                    <div class="grid-wrapper">
                                        <table id="errorGrid"></table>
                                    </div>
                                    <div id="perrorGrid">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-2">
                            <div class="bottom-tab-content">
                                <div id="activitylog">
                                    <div class="grid-wrapper">
                                        <table id="activityLogGrid"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-3">
                            <div class="bottom-tab-content">
                                <div class="grid-wrapper">
                                    <table id="journalGrid"></table>
                                </div>
                                <div id="pjournalGrid">
                                </div>
                            </div>
                        </div>
                        <div id="tabs-4">
                            <div class="bottom-tab-content">
                                <div id="ruleExecutionLog">
                                    <div class="grid-wrapper">
                                        <table id="ruleExecutionLogGrid"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="importMLDialog" style="display: none">
                    <form>
                        <div class="form-group">
                            <br /><br />
                            <input type="hidden" id="MLFolderName" value="" />
                            <input type="hidden" id="MLSectionName" value="" />
                            <input type="hidden" id="MLFormInstanceId" value="" />
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="description"><b>Comment: </b></label><em>*</em>
                                </div>
                                <div class="col-sm-8">
                                    <input id="MLcomment" type="text" class="form-control" name="MLcomment" maxlength="250" value="import" />
                                    <span class="help-block" id="CommentMLSpan" style="color:red"></span>
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="uploadimportMLFile"><b>Upload a template: </b></label><em>*</em>
                                </div>
                                <div class="col-sm-8">
                                    <input id="UploadMLFileName" name="UploadMLFileName" class="form-control uploadTmplFile" type="file" style="background-color: white;" />
                                    <span class="help-block" id="UploadMLFileNameSpan" style="color:red"></span>
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-sm-4"></div>
                                <div class="col-sm-8">
                                    <button id="btnMLImport" type="button" class="btn btn-default">Import</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div id="MLImportConfirmDialog" title="Master List Import Confirmation" style="display: none">
                    Are you sure you want to proceed with Master List import? <br> This action cannot be undone.
                </div>
            </div>
        </div>


        <div style="display: none;">
            <div id="statusUpdateDialogue" style="margin: 10px">
                <div class="form-group">
                    <div class="label-width-120px">
                        <label>Workflow State</label>
                    </div>
                    <div id="workflowstatediv" class="select-width-200px">
                        <select id="workflowstatelist">
                            <option>Select Workflow</option>
                        </select>
                        <span class="help-block"></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="label-width-120px">
                        <label>Approval Status</label>
                    </div>
                    <div id="approvaldiv" class="select-width-200px">
                        <select id="approvaltypelist">
                            <option>Select Approval Status</option>
                        </select>
                        <span class="help-block"></span>
                    </div>
                </div>
                @*<div class="form-group row">*@
                <div class="form-group row" style="display: none;">
                    <div class="label-width-120px">
                        <label>Assign Owner</label>
                    </div>
                    <div id="ownerdiv" class="select-width-200px">
                        <select id="ownerlist">
                            <option>Select Owner</option>
                        </select>
                        <span class="help-block"></span>
                    </div>
                </div>

                <div class="form-group">
                    <div class="label-width-120px">
                        <label>Comments</label>
                    </div>
                    <div class="select-width-200px">
                        <textarea id="comment" rows="3" cols="20" maxlength="1500"></textarea>
                        <span class="help-block" id="commentSpan"></span>
                    </div>
                </div>
                <button id="updatestatusML" type="button" class="btn pull-right">Save</button>
            </div>
        </div>

        <div style="display: none;">
            <div id="baseLineDialogueML" style="margin: 10px">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="pull-left">
                                <h4 class="form-title"><b>Folder Version List</b></h4>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="grid-wrapper">
                                        <table id="majorFolderVersionML"></table>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style="margin-top: 5px;">
                                <div class="col-xs-12">
                                    <div class="grid-wrapper">
                                        <table id="minorFolderVersionML"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button id="updateBaseLineML" type="button" class="btn pull-right" style="margin-top: 10px;">Save</button>
            </div>
        </div>



        <div style="display: none;">
            <div id="assignFolderDialogue" style="margin: 10px; width: auto; height: auto; overflow: hidden;">
                <div>
                    <div class="form-group row">
                        <div class="col-xs-6" style="width: 150px">
                            <label>Assign Folder Team Member</label>
                        </div>
                        <div class="col-xs-9" style="width: 150px">
                            <select class="form-control" id="usersList" multiple style="height: 100px;">
                                <option value="0">Select One</option>
                            </select>
                            <span class="help-block">Select Users</span>
                        </div>
                    </div>
                    <div class="form-group row">
                        <button class="btn pull-right" id="updateAssignFolderMember" type="button">Save</button>
                    </div>
                </div>
            </div>
        </div>


        <div id="createProductGrid" style="display: none;">
            <form>
                <div class="form-group" style="width:100%;">
                    <div class="grid-wrapper">
                        <table id="productGrid"></table>
                    </div>
                </div>
                <div class="form-group row">
                    <span style="color:red" class="help-block"></span>
                    <button class="btn pull-right" id="saveProductList" type="button">Save</button>
                </div>
            </form>
        </div>

        <div id="createProductQueueGrid" style="display: none;">
            <form>
                <div class="form-group" style="width:100%;">
                    <div class="grid-wrapper">
                        <table id="productQueueGrid"></table>
                    </div>
                </div>
                <div class="form-group row">
                    <span style="color:red" class="help-block"></span>
                    <button class="btn" id="confirmProductList" type="button">Confirm</button>
                    <button class="btn" id="cancelProductList" type="button">Cancel</button>
                </div>
            </form>
        </div>

        <div style="display: none;">
            <div id="vesrionHistoryDialogML">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="pull-left">
                            <h4 class="form-title" id="vesrionHistoryDialogML_folderName"><b>@Model.FolderName</b></h4>
                        </div>
                        <div class="btn pull-right btn-padding">

                            <button id="newVersionHistoryML" class="btn btn-xs">New Version</button>
                            <button id="retroVersionHistoryML" class="btn btn-xs">Retro</button>
                            @*<button id="changeSummaryML" class="btn btn-xs">Change Summary</button>*@
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="grid-wrapper new-pagination-align">
                                    <table id="majorVersionML"></table>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="grid-wrapper new-pagination-align">
                                    <table id="minorVersionML"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            @*EffectiveDate Dialog For Minor Version*@
            <div style="display: none;">
                <div id="minoreffectivedatedialogML" style="margin: 5px; overflow: hidden;">
                    <form>
                        <div class="form-group">
                            <label for="effectivedateML">Effective Date</label>
                            <input type="text" class="form-control" id="effectivedateML" placeholder="Enter Effective Date" style="width: 90%" maxlength="10" />
                            <span class="help-block"></span>
                        </div>
                        <button type="button" id="minoreffectivebtnML" class="btn pull-right">Save</button>
                    </form>
                </div>
            </div>
        </div>

        <div id="addCommentMLCascadeDialog" style="display: none">
            <p></p>
            <form>
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-4">
                            <label for="Comment"><b>Comments:</b></label><em>*</em>
                        </div>
                        <div class="col-sm-8">
                            <textarea id="txtMLCascadeComment" type="text" class="form-control" name="Comment" maxlength="100"></textarea>
                            <span class="help-block" style="color:red"></span>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn pull-right">Save</button>
            </form>
        </div>

        <div style="display:none;">
            <div id="dvReplaceText">
                <div class="form-group">
                    <label for="txrReplaceWhat">Replace what:</label>
                    <input type="text" class="form-control" id="txrReplaceWhat" placeholder="Enter text to be replaced" />
                    <div id="dvFindTextError" class="messageContainer"></div>
                </div>
                <div class="form-group">
                    <label for="txtReplaceWith">Replace with:</label>
                    <input type="text" class="form-control" id="txtReplaceWith" placeholder="Enter the text to replace with" />
                    <div id="dvReplaceWithError" class="messageContainer"></div>
                </div>
                <div class="form-group">
                    <label for="drpWithin">Within:</label>
                    <select class="form-control" id="drpWithin">
                        <option value="Select One">Select One</option>
                        <option value="Section">Section</option>
                        <option value="Document">Document</option>
                        <option value="Folder">Folder</option>
                    </select>
                    <div id="dvWithinError" class="messageContainer"></div>
                </div>
                <div id="divInstances" class="form-group" style="width:100% !important;height:120px !important; display:none;">
                    <label for="lbldrpInstances">Form Instances:</label>
                    <select class="form-control" id="drpInstances" multiple="multiple" style="width:100% !important;height:100px !important"></select>
                    <div id="divInstancesError" class="messageContainer"></div>
                </div>
                <div class="form-group">
                    <label for="drpLookIn">Look-In:</label>
                    <select class="form-control" id="drpLookIn">
                        <option value="">Select One</option>
                    </select>
                </div>
                <div class="checkbox">
                    <label><input type="checkbox" id="chkMatch" name="chkMatch">Match entire cell content</label>
                </div>
                <button type="button" id="btnReplace" class="btn btn-default">Replace</button>
                <button type="button" id="btnCancel" class="btn btn-default">Cancel</button>
            </div>
        </div>

        @*Journal Entry Add*@
        <div style="display: none;">
            <div id="journalEntryAddDialogueDiv" style="margin: 10px">

                <div class="row">
                    <div class="col-xs-6 label-width-120px">
                        <label>Section Trail</label>
                    </div>

                    <div id="selecteddiv" class="col-xs-6 select-width-600px">
                        <span id="sectionTrail"></span>
                        <span class="help-block"></span>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-6 label-width-120px">
                        <label>Attribute</label>
                    </div>

                    <div id="attributeDiv" class="col-xs-6 select-width-600px">
                        <span id="journalAttribute"></span>
                        <span class="help-block"></span>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-6 label-width-120px">
                        <label>Action Required</label><em>*</em>
                    </div>
                    <div id="actionDiv" class="col-xs-6 select-width-200px">
                        <div class="select-wrapper block">
                            <select id="actionList">
                                <option>Select One</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6 label-width-140px">
                        <div id="Descriptiondiv">
                            <label>Description</label><em>*</em>
                        </div>
                    </div>
                    <div id="descriptionHistoryDiv" class="select-width-600px" style="width: 522px;">
                        <textarea id="description" rows="5" maxlength="300"></textarea>
                        <span id="characterCounter" class="help-inline pull-right"></span>
                        <textarea id="descriptionHistory" rows="5" disabled="disabled" style="display: none;"></textarea>
                    </div>
                </div>

                <div class="row" id="addResponseDiv" style="float: right !important;">
                    <button id="addResponse" type="button" class="btn btn-sm but-align pull-right">Add Response</button>
                </div>
                <div class="clearfix"></div>
                <div class="row" id="responseDiv">
                    <div class="col-xs-12 label-width-140px">
                        <label>Response</label><em>*</em>
                    </div>
                    <div class="col-xs-12">
                        <textarea id="response" rows="5" maxlength="300"></textarea>
                        <span id="responsecharacterCounter" class="help-inline pull-right"></span>
                    </div>
                </div>

                <button id="addJournalEntry" type="button" class="btn btn-sm pull-right" style="margin-top: 10px;">Save</button>

                <div class="row" id="responseHistoryDiv" style="padding-top: 15px;">
                    <div class="label-width-140px">
                        <label>Response History</label>
                    </div>
                    <div id="responseHistorytblDiv" class="col-xs-12"></div>
                </div>

                <input type="hidden" id="formInstanceId" />
                <input type="hidden" id="folderVersionId" />
                <input type="hidden" id="elementSection" />
                <input type="hidden" id="tenantId" />
                <input type="hidden" id="journalId" />
                <input type="hidden" id="currentFormInstanceId" />
            </div>
        </div>

        @Html.Partial("CreateForm")

        <div style="display: none;">
            <div id="repeaterDialog">
                <div class="panel panel-default">
                    <div id="repeaterPreviousBtnContainer" class="panel-body" style="float: left; top: 20%; bottom: 20%; margin-left: 0; margin-right: 0;">
                        <button id="repeaterDialogPrevBtn" type="button" title="Previous" class="btn btn-default" style="height: 80px; width: 25px; padding: 2px; font-size: 22px;">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </button>
                    </div>
                    <div class="panel panel-default" style="float: left; width: 91%; margin-top: 5px;">
                        <div style="clear: both;"></div>
                        <div class="panel-body">
                            <div id="repeaterRowData">
                            </div>
                        </div>
                        <div class="panel-body" style="float: right;">
                            <button id="repeaterDialogCancelBtn" type="button" class="btn pull-right">Cancel</button>
                            <button id="repeaterDialogSaveBtn" type="button" class="btn pull-right">Save</button>
                        </div>
                        <div style="clear: both;"></div>
                    </div>
                    <div id="repeaterNextBtnContainer" class="panel-body" style="float: left; top: 20%; bottom: 20%; margin-left: 0; margin-right: 0;">
                        <button id="repeaterDialogNextBtn" type="button" title="Next" class="btn btn-default" style="height: 80px; width: 25px; padding: 2px; font-size: 22px;">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </button>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
        </div>
        <div style="display: none;">
            <div id="repeaterCellDialog">
                <div class="panel panel-default">
                    <div class="panel panel-default" style="float: left; width: 100%; margin-top: 5px;">
                        <div style="clear: both;"></div>
                        <div class="panel-body" style="padding:0px 15px; margin-top: 0px; ">
                            <div id="repeaterCell">
                            </div>
                        </div>
                        <div class="panel-body popup-btns" style="float: right;">
                            <button id="repeaterCellDialogSaveBtn" type="button" class="btn">Save</button>
                            <button id="repeaterCellDialogCancelBtn" type="button" class="btn">Cancel</button>
                            <button id="repeaterCellDialogClearBtn" type="button" class="btn">Clear</button>
                        </div>
                        <div style="clear: both;"></div>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
        </div>

        <div style="display: none;">
            <div id="gridDialog">
                <div class="panel panel-default">
                    <div class="panel panel-default" style="float: left; width: 100%; margin-top: 5px;">
                        <div style="width:100%;height:100%; padding-top: 35px; box-sizing: border-box;">
                            <div id="gridCellSection1" style="height: 300px;" class="ag-theme-fresh">
                            </div>
                        </div>
                        <div style="width:100%;height:100%; padding-top: 35px; box-sizing: border-box;">
                            <div id="gridCellSection2" style="height: 300px;" class="ag-theme-fresh">
                            </div>
                        </div>
                        <div style="width:100%;height:100%; padding-top: 35px; box-sizing: border-box;">
                            <div id="gridCellSection3" style="height: 300px;" class="ag-theme-fresh">
                            </div>
                        </div>
                        <div class="panel-body" style="float: right;">
                            <button id="gridCellDialogCancelBtn" type="button" class="btn pull-right">Cancel</button>
                            <button id="gridCellDialogSaveBtn" type="button" class="btn pull-right">Save</button>
                        </div>
                        <div style="clear: both;"></div>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
        </div>

        <div style="display: none;">
            <div id="manualDataMappingDialog">
                <div id="manualMessageDialog" class="hide">No Records Found.</div>
                <div id="manualDialog" class="">
                    <div class="panel-body">
                        <div id="DataSourceData">
                        </div>
                    </div>
                    <div id="manualDialogBtn" class="panel-body" style="text-align: left">
                        <button id="manualDataSourceCancelBtn" type="button" class="btn pull-right">Cancel</button>
                        <button id="manualDataSourceSaveBtn" type="button" class="btn pull-right">Save</button>
                    </div>
                    <div style="clear: both;"></div>

                    <div id="PlanLevelLimit" style="display: none;">
                        <div class="panel-body">
                            <div class="row form-group">
                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                        <label>Limit Description<em>*</em></label>
                                    </div>
                                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                        <input type="text" class="form-control" id="LimitDescription" value="" />
                                        <span class="help-block" id="LimitDescriptionHelpBlock"></span>
                                    </div>

                                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                        <label>Amount</label>
                                    </div>

                                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                        <select class='form-control ddt-dropdown' id="AmountDDL">
                                            <option value='SelectOne'>[Select One]</option>
                                            <option value="newItem">Enter Unique Response</option>
                                        </select>
                                        <input type='text' maxlength='100' class='ddt-textbox' style='display:none;' />
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                        <label>Frequency</label>
                                    </div>
                                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                        <select class="form-control ddt-dropdown" id="FrequencyDDL" ">
                                            <option value='SelectOne'>[Select One]</option>
                                            <option value="newItem">Enter Unique Response</option>
                                        </select>
                                        <input type='text' maxlength='100' class='ddt-textbox' style='display:none;' />
                                    </div>
                                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                        <label>Limit Type</label>
                                    </div>
                                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                        <select class="form-control ddt-dropdown" id="LimitTypeDDL" ">
                                            <option value='SelectOne'>[Select One]</option>
                                            <option value="newItem">Enter Unique Response</option>
                                        </select>
                                        <input type='text' maxlength='100' class='ddt-textbox' style='display:none;' />
                                    </div>
                                </div>
                            </div>
                            <div style="clear: both;"></div>

                            <div id="PlanLimitBtn" class="panel-body" style="text-align: left">
                                <button id="PlanLimitCancelBtn" type="button" class="btn pull-right">Cancel</button>
                                <button id="PlanLimitSaveBtn" type="button" class="btn pull-right">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: none;">
            <div id="serviceCommentDialog" style="margin: 10px;word-wrap: break-word;">
                <div class="row">
                    <table id="serviceCommentGrid"></table>
                    @*<div id="noserviceCommentDescriptionForService">No Service Selected</div> *@
                </div>
            </div>
        </div>
        <div style="display: none;">
            <div id="limitDialog" style="margin: 10px">
                <div class="row">
                    <div class="grid-wrapper">
                        <table id="limitGrid"></table>
                    </div>
                    <div id="noLimtDescriptionForService">No Limit Selected</div>
                </div>
                <div class="row">
                    <div class="grid-wrapper">
                        <table id="planOptionsGrid"></table>
                    </div>
                    <div id="noPlanOptionsForService">No Plan Option Selected</div>
                </div>
                <div class="row">
                    <div class="grid-wrapper">
                        <table id="customOptionsGrid"></table>
                    </div>
                    <div id="noCustomOptionsForService">No Custom Option Selected</div>
                </div>
            </div>
        </div>
        <div style="display: none;">
            <div id="productCategoryDialog" style="margin: 10px">
                <div class="row">
                    <div class="grid-wrapper">
                        <table id="productCategoryGrid"></table>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: none;">
            <div id="messageDialog" style="margin: 10px">
            </div>
        </div>

        <div style="display: none;">
            <div id="duplicateMessageDialog" style="margin: 10px">
            </div>
        </div>

        <div style="display: none;">
            <div id="altRuleDialog" style="margin: 10px">
                <div class="row">
                    <div class="row">
                        <div class="row">
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 1</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRulesDataBenefitCategory1"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 2</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRulesDataBenefitCategory2"></span>
                            </div>

                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 3</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRulesDataBenefitCategory3"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Place of Service</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRulesDataPlaceofService"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>SESEID</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRulesDataSESEID"></span>
                                <input type="hidden" id="spanAltRulesDataIndex"></input>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Set Name</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRulesBenefitSetName"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b></b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id=""></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <span class="staticLabel" id="hiddenAltRulesPopupSection_RowIDProperty" style="display:none;"></span>
                        <div class="panel panel-default subsection">
                            <div class="panel-heading-gray" style="background-color: rgb(221, 221, 221) !important;">
                                <h3 class="panel-title">Details</h3>
                            </div>
                            <div class="panel-body">
                                <div class="container-fluid" style="min-height: inherit !important;">
                                    <div class="row" style="display: none;">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>SERL Message</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_SERLMessage">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Disallowed Messages</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_DisallowedMessages">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Tier No</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel" id="spanAltRulesPopupSection_TierNo"></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Copay</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_Copay">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Coinsurance</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_Coinsurance">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Allowed Amount</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="sectionAltRulesPopupSection_AllowedAmount">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Allowed Counter</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="sectionAltRulesPopupSection_AllowedCounter">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Deductible Accumulator</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="sectionAltRulesPopupSection_DeductibleAccumulator">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Service Penalty Amount</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="form-control" id="textboxAltRulesPopupSection_ServicePenaltyAmount" type="text" value=""> </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Service Penalty Percent</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="form-control" id="textboxAltRulesPopupSection_ServicePenaltyPercent" type="text" value=""> </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Maximum Penalty Amount</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="form-control" id="textboxAltRulesPopupSection_MaximumPenaltyAmount" type="text" value=""> </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Penalty Explanation Code</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="form-control" id="textboxAltRulesPopupSection_PenaltyExplanationCode" type="text" value=""> </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Service Penalty Options</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="form-control" id="textboxAltRulesPopupSection_ServicePenaltyOptions" type="text" value=""> </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Excess Per Counter Indicator</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_ExcessPerCounterIndicator">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Covered</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="css-checkboxgrid" id="checkboxAltRulesPopupSection_Covered" style="margin-left: 45%;" disabled="disabled" type="checkbox"><span class="css-span"></span></div>
                                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'><span class="staticLabel"><b>SERL Message</b></span></div><div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'><span class="staticLabel" id="labelAltRulesPopupSection_SERLMessage"></span></div>
                                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'><span class="staticLabel"><b>Disallowed Message</b></span></div><div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'><span class="staticLabel" id="labelAltRulesPopupSection_DisallowedMessage"></span></div>
                                    </div>
                                    <div class="row" style="">
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Penalty Type</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_PenaltyType">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Penalty Calculation Indicator</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2">
                                            <select class="form-control" id="selectAltRulesPopupSection_PenaltyCalculationIndicator">
                                                <option value="">Select One</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><span class="staticLabel"><b>Alternate Rule Condition</b></span></div>
                                        <div class="col-xs-2 col-md-2 col-lg-2 col-sm-2"><input class="form-control" id="textboxAltRulesPopupSection_AlternateRuleCondition" type="text" value=""> </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="grid-wrapper">
                            <table id="altRuleGrid"></table>
                        </div>
                        <div id="paltRuleGrid"></div>
                    </div>
                </div>
                <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
            </div>
        </div>

        <div style="display: none;">
            <div id="tierDataDialog" style="margin: 10px">
                <div class="row">
                    <div class="row">
                        <div class="row">
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 1</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanTierDataBenefitCategory1"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 2</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanTierDataBenefitCategory2"></span>
                            </div>

                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 3</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanTierDataBenefitCategory3"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Place of Service</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanTierDataPlaceofService"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>SESEID</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanTierDataSESEID"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Set Name</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanTierBenefitSetName"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b></b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id=""></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="grid-wrapper">
                            <table id="tierDataGrid"></table>
                        </div>
                        <div id="ptierDataGrid"></div>
                    </div>
                </div>
                <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
            </div>
        </div>

        <div style="display: none;">
            <div id="altRuleTierDataDialog" style="margin: 10px">
                <div class="row">
                    <div class="row">
                        <div class="row">
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 1</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRuleTierDataBenefitCategory1"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 2</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRuleTierDataBenefitCategory2"></span>
                            </div>

                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Category 3</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRuleTierDataBenefitCategory3"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Place of Service</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRuleTierDataPlaceofService"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>SESEID</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRuleTierDataSESEID"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b>Benefit Set Name</b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id="spanAltRuleTierBenefitSetName"></span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel">
                                    <b></b>
                                </span>
                            </div>
                            <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                <span class="staticLabel" id=""></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="grid-wrapper">
                            <table id="altRuleTierDataGrid"></table>
                        </div>
                        <div id="paltRuleTierDataGrid"></div>
                    </div>
                </div>
                <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
            </div>
        </div>

        <div style="display: none">
            <div id="pdfGenerationDialog" class="">
                <div id="pdfPreviewMessage" class="alert alert-success hide">Please Configure PDF Template.</div>
                <div class="form-group">
                    <div id="pdfGeneration" class="row">

                        <div class='col-xs-5 col-md-5 col-lg-5 col-sm-5'>
                            <label for="templateName">Template Name</label>
                        </div>
                        <div class='col-xs-7 col-md-7 col-lg-7 col-sm-7'>
                            <select class="form-control" id="templateNameDDL"></select>
                        </div>
                        <div class='col-xs-12 col-md-12 col-lg-12 col-sm-21'>
                            <label for="Description">Description</label>
                            <textarea class="form-control" id="descriptionTemplate" style="height: 80px;" disabled="disabled"></textarea>
                        </div>
                        <div class='col-xs-12 col-md-12 col-lg-12 col-sm-12'>
                            <div style="float: right; margin-top: 10px;margin-bottom: 10px;">
                                <button id="genratePDFData" type="button" class="btn pull-right">Genrate PDF Data</button>
                            </div>
                            <div class="clearfix"></div>
                            <div style="font-size: 9px"><a href="javascript:void(0)" class="pdfPreview" id="pdfPreview"><u><b>Click here</b></u></a> to Preview the Section which will be Exported to PDF as part of this Template.</div>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
            </div>
        </div>

        <div style="display: none;">
            <div id="pdfPreviewDailog">
                <div class="row-fluid">
                    <div class="col-xs-12 col-md-12 col-lg-12 col-sm-12">
                        <div class="grid-wrapper">
                            <table id="previewPDF"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: none;">
            <div id="subGridDialog">
                <div class="panel panel-default">
                    <div id="subGridPreviousBtnContainer" class="panel-body" style="float: left; top: 20%; bottom: 20%; margin-left: 0; margin-right: 0;">
                        <button id="subGridDialogPrevBtn" type="button" title="Previous" class="btn btn-default" style="height: 80px; width: 25px; padding: 2px; font-size: 22px;">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </button>
                    </div>
                    <div class="panel panel-default" style="float: left; width: 91%; margin-top: 5px;">
                        <div style="clear: both;"></div>
                        <div class="panel-body">
                            <div id="subGridDialogData" class="row">
                            </div>
                        </div>
                    </div>
                    <div id="subGridNextBtnContainer" class="panel-body" style="float: left; top: 20%; bottom: 20%; margin-left: 0; margin-right: 0;">
                        <button id="subGridDialogNextBtn" type="button" title="Next" class="btn btn-default" style="height: 80px; width: 25px; padding: 2px; font-size: 22px;">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </button>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
        </div>

        <div style="display: none;">
            <div id="ServiceConfigurationDialog" style="margin: 10px; font-size: 12px;">
                <div>
                    <span class="help-block" id="serviceConfigurationHelpBlock"></span>
                </div>
                <div>
                    <div id="ServiceHeader" class="row">
                        <div class='col-xs-3 col-md-3 col-lg-3 col-sm-3'>
                            <label for="serviceGroupHeader">Service Group Header</label>
                        </div>
                        <div class='col-xs-3 col-md-3 col-lg-3 col-sm-3'>
                            <label for="serviceGroupHeader" id="serviceGroupHeader"></label>
                        </div>
                        <div class='col-xs-3 col-md-3 col-lg-3 col-sm-3'>
                            <label for="RegulerRule">SESE ID</label>
                        </div>
                        <div class='col-xs-3 col-md-3 col-lg-3 col-sm-3'>
                            <label for="SESEID" id="SESEID"></label>
                        </div>
                    </div>
                </div>
                <div id="serviceRuleConfig">
                    <div class="panel ">
                        <div class="row form-group" style=" border-bottom:solid 1px !important; margin-bottom 10px;">
                            <h5>Service Rule Configuration</h5>
                        </div>
                        <div class="row form-group">
                            <div class='col-xs-5 col-md-5 col-lg-5 col-sm-5'>
                                <div class="radio radio-text-align-middle">
                                    <label><input id="defaultRule" type="radio">Default Rule</label>
                                </div>
                            </div>
                            <div class='col-xs-5 col-md-5 col-lg-5 col-sm-5'>
                                <div class="radio radio-text-align-middle">
                                    <label><input type="radio" id="modelSESE_ID">Model SESE ID</label>
                                </div>
                            </div>
                        </div>

                        <div class="row form-group">
                            <div id="ModleSESE_IDRuleConfig">
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <label for="ServiceSESE_ID">SESE ID</label><em>*</em>
                                </div>
                                <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                    <select class="form-control" id="serviceSESE_ID"></select>
                                </div>

                            </div>
                        </div>
                        <div class="row form-group">
                            <div id="DefaultServiceRuleConfig" class="row">
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <label for="RegulerRule">Regular Rule</label>
                                </div>
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <select class="form-control" id="regularRule"></select>
                                </div>
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <label for="RegulerRule">Alternate Rule</label>
                                </div>
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <select class="form-control" id="alternateRule"></select>
                                </div>
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <label for="RegulerRule">Alternate Rule Condition</label>
                                </div>
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <input type="text" id="altRuleCondition" class="form-control" maxlength="1" />
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="LimitServiceConfig" class="row">
                    <div class="panel ">
                        <div class="row form-group" style=" border-bottom:solid 1px !important; margin-bottom 10px">
                            <h5>Limit Service Configuration</h5>
                        </div>
                        <div class="row form-group">
                            <div class='col-xs-5 col-md-5 col-lg-5 col-sm-5'>
                                <div class="checkbox">
                                    <label><input type="checkbox" id="accumulators" />Accumulators</label>
                                </div>
                            </div>
                            <div class='col-xs-5 col-md-5 col-lg-5 col-sm-5'>
                                <div class="checkbox">
                                    <label><input type="checkbox" id="LimitModelSESE_ID" />Model SESE ID</label>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div id="limitModelSESE_IDConfig">
                                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                    <label for="ServiceSESE_ID">SESE ID</label><em>*</em>
                                </div>
                                <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                    <select class="form-control" id="LimitServiceSESE_ID"></select>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div id="accumulatorsRuleConfig">
                                <div id="accumulatorsRule">
                                    <div class="grid-wrapper">
                                        <table id="accumulatorsGrid"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="display: none;">
        <div id="BenefitRevwTierDialog" style="margin: 10px; font-size: 12px;">
            <div>
                <span class="help-block" id="BenefitRevwTierHelpBlock"></span>
            </div>
            <div class="row form-group">
                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                    <label for="BenefitSetName">Benefit Set Name</label>
                </div>
                <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                    <select class="form-control" id="BenefitSetName"></select>
                </div>
                <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                    <label for="NoOfTiers">No. of Tiers</label>
                </div>
                <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                    <select class="form-control" id="NoOfTiers">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                        <option>6</option>
                        <option>7</option>
                        <option>8</option>
                        <option>9</option>
                        <option>10</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="grid-wrapper">
                    <table id="TierDetailsGrid"></table>
                </div>
            </div>
            <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
        </div>
        <div>

            <div style="display: none;">
                <div id="BenefitRevwAltTierDialog" style="margin: 10px; font-size: 12px;">
                    <div>
                        <span class="help-block" id="BenefitRevwAltTierHelpBlock"></span>
                    </div>
                    <div class="row form-group">
                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                            <label for="BenefitSetName">Benefit Set Name</label>
                        </div>
                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                            <select class="form-control" id="AltBenefitSetName"></select>
                        </div>
                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                            <label for="NoOfTiers">No. of Tiers</label>
                        </div>
                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                            <select class="form-control" id="AltNoOfTiers">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                                <option>6</option>
                                <option>7</option>
                                <option>8</option>
                                <option>9</option>
                                <option>10</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="grid-wrapper">
                            <table id="TierAltDetailsGrid"></table>
                        </div>
                    </div>
                    <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
                </div>
                <div>

                    <div style="display: none;">
                        <div id="ruleAssignmentDialog" style="margin: 10px">
                            <div class="row">
                                <div class="row">
                                    <div class="row">
                                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                            <span class="staticLabel">
                                                <b>Select Service Rule</b>
                                            </span>
                                        </div>
                                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                            <span class="staticLabel" id="spanSelectServiceRule"></span>
                                        </div>

                                        <div class="col-xs-8 col-md-8 col-lg-8 col-sm-8">
                                            <select class="form-control" id="selectServiceRule"><option value="">Select One</select>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                            <span class="staticLabel">

                                            </span>
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                            <span class="staticLabel">
                                                <b>Select Benefit Set Name</b>
                                            </span>
                                        </div>
                                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                            <span class="staticLabel" id="spanSelectBenefitSetName"></span>
                                        </div>

                                        <div class="col-xs-8 col-md-8 col-lg-8 col-sm-8">
                                            <select class="form-control" id="selectBenefitSetName"><option value="">Select One</select>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
                        </div>
                    </div>


                    <div style="display: none;">
                        <div id="altRuleAssignmentDialog" style="margin: 10px">
                            <div class="row">
                                <div class="row">
                                    <div class="row">
                                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                            <span class="staticLabel">
                                                <b>Select Service Rule</b>
                                            </span>
                                        </div>
                                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                            <span class="staticLabel" id="spanSelectAltServiceRule"></span>
                                        </div>

                                        <div class="col-xs-8 col-md-8 col-lg-8 col-sm-8">
                                            <select class="form-control" id="selectAltServiceRule"><option value="">Select One</select>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                            <span class="staticLabel">

                                            </span>
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class='col-xs-4 col-md-4 col-lg-4 col-sm-4'>
                                            <span class="staticLabel">
                                                <b>Select Benefit Set Name</b>
                                            </span>
                                        </div>
                                        <div class='col-xs-2 col-md-2 col-lg-2 col-sm-2'>
                                            <span class="staticLabel" id="spanAltSelectBenefitSetName"></span>
                                        </div>

                                        <div class="col-xs-8 col-md-8 col-lg-8 col-sm-8">
                                            <select class="form-control" id="selectAltBenefitSetName"><option value="">Select One</select>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <span class='help-block'>Changes will be Saved locally. They will be Saved to the system only if the Save button on the Folder Menu is clicked.</span>
                        </div>
                    </div>
                    <script type="text/javascript">

                        var folderData = {
                            tenantId: '@Model.TenantID',
                            folderId: '@Model.FolderId',
                            folderVersionId: '@Model.FolderVersionId',
                            accountId: '@Model.AccountId',
                            effectiveDate: '@Model.EffectiveDate',
                            versionNumber: '@Model.FolderVersionNumber',
                            isPortfolio: '@Model.IsPortfolio',
                            isEditable: '@Model.IsEditable',
                            folderName: '@Model.FolderName',
                            folderType: '@Model.FolderType',
                            referenceProductFormInstanceID: '@Model.ReferenceProductFormInstanceID',
                            versionType: '@Model.VersionTypeID',
                            folderVersionState: '@Model.FolderVersionStateID',
                            isReleased: '@Model.IsReleased',
                            formDesignVersionType:'@Model.FormDesignVersionType',
                            isAutoSaveEnabled:'@Model.IsAutoSaveEnabled',
                            duration:'@Model.Duration',
                            autoSaveSettingsPropertites: '@Model.AutoSaveSettingsProperties',
                            isLocked: '@Model.IsLocked',
                            lockedBy: '@Model.LockedBy',
                            isNewVersionLoaded:'@Model.IsNewVersionLoaded',
                            isNewLoadedVersionIsMajorVersion:'@Model.IsNewLoadedVersionIsMajorVersion',
                            currentUserName:'@Model.CurrentUserName',
                            WFStateID:'@Model.WFStateID',
                            currentUserId: '@Model.CurrentUserId',
                            RoleId :'@Model.RoleId',
                            CategoryName:'@Model.CategoryName',
                            CatID:'@Model.CatID',
                            WFStateName:'@Model.WFStateName'
                        };
                        if( folderData.folderType !== "MasterList"){
                            setMenu("account");
                        }else{
                            setMenu("masterList");
                        }




                        $(document).ready(function () {
                            //execute the singleton object at document.ready event
                            var singleTonfolderVersionInstance = new folderVersionInstance.getInstance(folderData.accountId, folderData.folderVersionId, folderData.versionNumber, folderData.effectiveDate, folderData.folderId, folderData.referenceProductFormInstanceID, folderData.isEditable, folderData.folderType,"Default");
                            singleTonfolderVersionInstance.load();


                        });

                        var vbIsHiddenOrDisableSections = @Html.Raw(ViewBag.IsHiddenOrDisableSections);
                        var vbIsHiddenContainer = @Html.Raw(ViewBag.IsHiddenContainer);
                        var vbIsFolderLockEnable = @Html.Raw(ViewBag.IsFolderLockEnable);
                        var vbIsStopScrollFloatingHeaders = @Html.Raw(ViewBag.IsStopScrollFloatingHeaders);
                        var role = @Html.Raw(ViewBag.RoleId);
                        var claims = @Html.Raw(Json.Encode(@ViewBag.Claims));
                        var formInstanceClaims = @Html.Raw(Json.Encode(@ViewBag.formInstanceClaims));
                        var applyMaskFlag = @Html.Raw(ViewBag.ApplyFieldMask);
                        var currentUserName = @Html.Raw(Json.Encode(ViewBag.CurrentUserName));
                        var vbRole = @Html.Raw(Json.Encode(ViewBag.RoleId));
                        var masterListEffectiveDate = @Html.Raw(Json.Encode(ViewBag.MasterListEffectivedate));
                        var isFromExitValidate = @Html.Raw(Json.Encode(ViewBag.IsFromEV));
                        var CurrentGridDisplayMode = @Html.Raw(Json.Encode(ViewBag.GridType));
                        if(CurrentGridDisplayMode != "AG" && CurrentGridDisplayMode != "PQ"){
                            CurrentGridDisplayMode = "PQ";
                        }
                    </script>

                    <div style="display: none;">
                        @Html.Partial("RetroAccountDialog")
                        @Html.Partial("~/Views/RoutingTask/RoutingTaskView.cshtml")
                    </div>
                    <div id='expressionBuilderSearch' style="display:none"><div class='grid-wrapper'><table id='expressionBuilderSearchGrid'></table></div></div>
                    <div id='aliasBuilder' class='panel-body' style="display:none">
                        <div class='panel-body'>
                            <div class='row-fluid'>
                                <div class='col-xs-12 col-md-12 col-lg-12 col-sm-12'>
                                    <div class='rulecontainer'>
                                        <div id='keyBuilder'>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class='row-fluid'>
                                <div class='col-xs-12 col-md-12 col-lg-12 col-sm-12'></div>
                            </div>
                            <div class='row-fluid'>
                                <div class='col-xs-12 col-md-12 col-lg-12 col-sm-12' style='float:right'>
                                    <button id="saveKeyBuilder" name="saveKeyBuilder" type="button" class="btn pull-right">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
